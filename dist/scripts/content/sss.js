let profanityWords="";var URL=chrome.extension.getURL("../../common/profanity_list_en.json"),request=new XMLHttpRequest;if(request.open("GET",URL,!1),request.send(null),200===request.status){var msgs=JSON.parse(request.responseText);profanityWords=msgs.list}chrome.storage.sync.get(["Main_Switch, white_list"],function(e){console.log(e.white_list),e.white_list||chrome.storage.sync.set({white_list:"|stackoverflow.com"}),e.Main_Switch||chrome.storage.sync.set({Main_Switch:"yes"})});var curWebsite="",optionsSSS=[];function setWebsite(e){curWebsite=e}function setOptions(e){optionsSSS=e}function execute(){for(var e=0,t=profanityWords.length;e<t;e++){let t=profanityWords[e];matchText(document.body,new RegExp("\\b"+t+"\\b","i"),function(e,t,i){var o=document.createElement("span");return o.id="SSS-blur",o.textContent=t,o.style.filter="blur(5px)",o.addEventListener("mouseover",mouseOver,!1),o.addEventListener("mouseout",mouseOut,!1),o})}}chrome.storage.sync.get(["website"],function(e){setWebsite(e.website)}),chrome.storage.sync.get(["options"],function(e){setOptions(e.options)});var counter=0,targetNode=document.body,config={childList:!0,subtree:!0},callback=function(e,t){var i="twitter.com"!==curWebsite&&"facebook.com"!==curWebsite&&optionsSSS.includes("PW_web");console.log(optionsSSS);var o="facebook.com"===curWebsite&&optionsSSS.includes("PW_facebook"),s="twitter.com"===curWebsite&&optionsSSS.includes("PW_twitter");chrome.storage.sync.get(["white_list","Main_Switch"],function(e){"yes"!==e.Main_Switch||e.white_list.includes(curWebsite)||optionsSSS.includes("disable_profanity_words")||((o||s)&&counter%10==0&&execute(),i&&counter%2==0&&execute())}),counter+=1,e.forEach(function(e){e.addedNodes.forEach(function(e){1===e.nodeType&&chrome.storage.sync.get(["white_list","Main_Switch"],function(t){"yes"!==t.Main_Switch||t.white_list.includes(curWebsite)||("facebook.com"===curWebsite&&(optionsSSS.includes("CB_facebook")&&!optionsSSS.includes("disable_click_baits")&&(facebook_clickbait(e),console.log("inside fb_cb")),optionsSSS.includes("HS_facebook")&&!optionsSSS.includes("disable_hate_speech")&&facebook_hatespeech(e)),"twitter.com"===curWebsite&&(optionsSSS.includes("CB_twitter")&&!optionsSSS.includes("disable_click_baits")&&twitter_clickbait(e),optionsSSS.includes("HS_twitter")&&!optionsSSS.includes("disable_hate_speech")&&twitter_hatespeech(e)),"youtube.com"===curWebsite&&(optionsSSS.includes("CB_youtube")&&!optionsSSS.includes("disable_click_baits")&&youtube_clickbait(e),optionsSSS.includes("HS_youtube")&&optionsSSS.includes("disable_hate_speech")))})})})},observer=new MutationObserver(callback);observer.observe(targetNode,config);var matchText=function(e,t,i,o){o||(o=["script","style","iframe","canvas","i","button","input","head","form","noscript","header","img"]);for(var s=e.firstChild;s;){switch(s.nodeType){case 1:if(o.indexOf(s.tagName.toLowerCase())>-1)break;"SSS-blur"!==s.id&&matchText(s,t,i,o);break;case 3:var n=0;s.data.replace(t,function(e){var t,o=[].slice.call(arguments),c=o[o.length-2],r=s.splitText(c+n);n-=s.data.length+e.length,r.data=r.data.substr(e.length),t=i.apply(window,[s].concat(o)),s.parentNode.insertBefore(t,r),s=r}),t.lastIndex=0}s=s.nextSibling}return e};function mouseOver(){this.style.filter="blur(0px)"}function mouseOut(){this.style.filter="blur(5px)"}